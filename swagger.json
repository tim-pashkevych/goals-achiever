{
  "openapi": "3.0.1",
  "info": {
    "version": "1.0.0",
    "title": "Task-Pro API docs",
    "description": "API documentation for team project 'Task Pro'. [Backend github repository](https://github.com/tim-pashkevych/goals-achiever)",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/license/MIT"
    }
  },
  "servers": [{ "url": "http://localhost:3000/api/v1" }],
  "tags": [
    {
      "name": "Users",
      "description": "Users endpoints"
    },
    {
      "name": "Boards",
      "description": "Boards endpoints"
    },
    {
      "name": "Columns",
      "description": "Columns endpoints"
    },
    {
      "name": "Cards",
      "description": "Cards endpoints"
    },
    {
      "name": "Issues",
      "description": "Issues endpoints"
    }
  ],
  "paths": {
    "/users/register": {
      "post": {
        "tags": ["Users"],
        "summary": "SignUp user",
        "requestBody": {
          "description": "New user credentials object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegistrationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistrationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserBadRequestError"
                }
              }
            }
          },
          "409": {
            "description": "Provided email already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailDublicateError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/users/login": {
      "post": {
        "tags": ["Users"],
        "summary": "SignIn user",
        "requestBody": {
          "description": "User credentials object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthenticationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/users/logout": {
      "post": {
        "tags": ["Users"],
        "summary": "SignOut user",
        "security": [{ "Token": [] }],
        "responses": {
          "204": {
            "description": "Successful operation"
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "patch": {
        "tags": ["Users"],
        "summary": "Update user's info",
        "security": [{ "Token": [] }],
        "requestBody": {
          "description": "User's new avatar file",
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserInfoRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateUserInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AbsentAvatarError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "409": {
            "description": "Provided email already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailDublicateError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Users"],
        "summary": "Get current user info",
        "security": [{ "Token": [] }],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrentUserResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/users/theme": {
      "patch": {
        "tags": ["Users"],
        "summary": "Update UI colors theme",
        "security": [{ "Token": [] }],
        "requestBody": {
          "description": "Object with new theme value",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateThemeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateThemeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AbsentThemeError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/users/refresh": {
      "post": {
        "tags": ["Users"],
        "summary": "Refresh user's session",
        "requestBody": {
          "description": "Object with the refresh token value",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AbsentRefreshTokenError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },

    "/boards": {
      "post": {
        "tags": ["Boards"],
        "summary": "Create a new board",
        "security": [{ "Token": [] }],
        "requestBody": {
          "description": "New board object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBoardRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateBoardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BoardBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Boards"],
        "summary": "Get all boards of the current user",
        "security": [{ "Token": [] }],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetBoardsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/boards/{id}": {
      "get": {
        "tags": ["Boards"],
        "summary": "Get board by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Board id"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetBoardResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BoardNotFoundError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Boards"],
        "summary": "Update board by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Board id"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Updated board object",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBoardRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateBoardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateBoardBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BoardNotFoundError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Boards"],
        "summary": "Delete board by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Board id"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful operation"
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BoardNotFoundError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },

    "/columns": {
      "post": {
        "tags": ["Columns"],
        "summary": "Add a new column to the board using { boardId }",
        "security": [{ "Token": [] }],
        "requestBody": {
          "description": "New column object",
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AddColumnRequest" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddColumnResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ColumnBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/columns/{id}": {
      "patch": {
        "tags": ["Columns"],
        "summary": "Update column by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Column id"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateColumnRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateColumnResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateColumnBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ColumnNotFoundError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Columns"],
        "summary": "Delete column by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Column id"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful operation"
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ColumnNotFoundError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },

    "/cards": {
      "post": {
        "tags": ["Cards"],
        "summary": "Create a new card",
        "security": [{ "Token": [] }],
        "requestBody": {
          "description": "New card object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddCardRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddCardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/cards/{cardId}": {
      "patch": {
        "tags": ["Cards"],
        "summary": "Update card by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "cardId",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Card id"
          }
        ],
        "requestBody": {
          "description": "Updated card object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchCardRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatchCardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateCardBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardNotFoundError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Cards"],
        "summary": "Delete card by { id }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "cardId",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Card id"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful operation"
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardNotFoundError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },
    "/cards/{cardId}/move": {
      "patch": {
        "tags": ["Cards"],
        "summary": "Move card to the column with { columnId }",
        "security": [{ "Token": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "cardId",
            "schema": { "type": "string", "format": "id" },
            "required": true,
            "description": "Card id"
          }
        ],
        "requestBody": {
          "description": "Object that contains an id of the column that the card is currently in and an id of the column that the card should be moved to",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveCardRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MoveCardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MoveCardBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardNotFoundError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    },

    "/issues": {
      "post": {
        "tags": ["Issues"],
        "summary": "Create an issue",
        "security": [{ "Token": [] }],
        "requestBody": {
          "description": "New issue object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateIssueRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateIssueResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid request body)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IssueBadRequestError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized (invalid access token)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            }
          }
        }
      }
    }
  },

  "components": {
    "schemas": {
      "RegistrationRequest": {
        "type": "object",
        "required": ["email", "password", "name"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com",
            "description": "User's email"
          },
          "password": {
            "type": "string",
            "example": "qwerty123",
            "description": "User's password"
          },
          "name": {
            "type": "string",
            "example": "Mike",
            "description": "User's name"
          }
        }
      },
      "RegistrationResponse": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com",
            "description": "User's email"
          }
        }
      },
      "LoginRequest": {
        "$ref": "#/components/schemas/UserRequest"
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "format": "token",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
            "description": "Access token"
          },
          "refreshToken": {
            "type": "string",
            "format": "token",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
            "description": "Session refresh token"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "GetCurrentUserResponse": {
        "type": "object",
        "properties": {}
      },
      "UpdateUserInfoRequest": {
        "type": "object",
        "properties": {
          "avatar": {
            "type": "string",
            "format": "binary",
            "description": "User's new profile avatar"
          },
          "name": {
            "type": "string",
            "example": "John Wick",
            "description": "User's new name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "newUserEmail@example.com",
            "description": "User's new email"
          },
          "password": {
            "type": "string",
            "example": "12345678",
            "description": "User's new password"
          }
        }
      },
      "UpdateUserInfoResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "string",
                "format": "id",
                "example": "66213450e6850f2cgnh28337",
                "description": "User's Id"
              },
              "name": {
                "type": "string",
                "example": "John Wick",
                "description": "User's name"
              },
              "email": {
                "type": "string",
                "format": "email",
                "example": "newUserEmail@example.com",
                "description": "User's email"
              },
              "avatarURL": {
                "type": "string",
                "format": "URL",
                "example": "https://res.cloudinary.com/dskzfituz/image/upload/c_fill,h_68,w_68/v1/taskpro-local/users/66213450e6850f2cdd428337/avatar/haln2vjxsonqeahc9cjx?_a=BAMABmP80"
              }
            }
          }
        }
      },
      "UpdateThemeRequest": {
        "type": "object",
        "required": ["theme"],
        "properties": {
          "theme": {
            "type": "string",
            "enum": ["dark", "light", "violet"],
            "example": "dark",
            "description": "UI colors theme"
          }
        }
      },
      "UpdateThemeResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "theme": {
                "type": "string",
                "enum": ["dark", "light", "violet"],
                "example": "dark",
                "description": "UI colors theme"
              }
            }
          }
        }
      },
      "RefreshRequest": {
        "type": "object",
        "required": ["refreshToken"],
        "properties": {
          "refreshToken": {
            "type": "string",
            "format": "token",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
            "description": "Refresh token value"
          }
        }
      },
      "RefreshResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string",
                "format": "token",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
                "description": "New session token"
              },
              "refreshToken": {
                "type": "string",
                "format": "token",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
                "description": "New refresh token"
              },
              "user": {
                "$ref": "#/components/schemas/User"
              }
            }
          }
        }
      },
      "CurrentUserResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "user": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Mike",
                    "description": "Current user name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com",
                    "description": "Current user email"
                  },
                  "avatarURL": {
                    "type": "string",
                    "format": "URL",
                    "example": "https://res.cloudinary.com/dskzfituz/image/upload/c_fill,h_68,w_68/v1/taskpro-local/users/66213450e6850f2cdd428337/avatar/k8bkkaztycx0keyzvu0u?_a=BAMABmP80",
                    "description": "Current user profile avatar"
                  },
                  "theme": {
                    "type": "string",
                    "enum": ["dark", "light", "violet"],
                    "example": "dark",
                    "description": "Current user UI colors theme"
                  }
                }
              },
              "boards": {
                "type": "array",
                "items": { "type": "object" },
                "example": [],
                "description": "List of current user boards"
              },
              "columns": {
                "type": "array",
                "items": { "type": "object" },
                "example": [],
                "description": "List of the columns on the current user's active board"
              },
              "cards": {
                "type": "array",
                "items": { "type": "object" },
                "example": [],
                "description": "List of the cards on the current user's active board"
              }
            }
          }
        }
      },

      "CreateBoardRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BoardRequest"
          },
          {
            "required": ["title", "icon", "backgroundImage"]
          }
        ]
      },
      "CreateBoardResponse": {
        "$ref": "#/components/schemas/Board"
      },
      "GetBoardsResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Board" },
            "example": [
              {
                "_id": "662fa449af9086a3d3fcccb3",
                "owner": "662698cdc2d20df05cabd72a",
                "columns": ["662ffd8ddfa45017c862db8b", "662ffde0dfa45017c862db97", "662ffdefdfa45017c862db9e"],
                "title": "My new dashboard",
                "icon": "puzzle-piece",
                "backgroundImage": "image7",
                "createdAt": "2024-04-29T13:44:41.291Z",
                "updatedAt": "2024-04-29T20:07:11.695Z"
              },
              {
                "_id": "662fad77af9086a3d3fccde0",
                "owner": "662698cdc2d20df05cabd72a",
                "columns": ["662fb603af9086a3d3fcce82"],
                "title": "New board",
                "icon": "project",
                "backgroundImage": "image12",
                "createdAt": "2024-04-29T14:23:51.395Z",
                "updatedAt": "2024-04-29T15:29:26.229Z"
              },
              {
                "_id": "662fe2994a45200b60057490",
                "owner": "662698cdc2d20df05cabd72a",
                "columns": ["662fe2a04a45200b60057497", "662fe2dc4a45200b600574a3"],
                "title": "Hey board",
                "icon": "loading",
                "backgroundImage": "image4",
                "createdAt": "2024-04-29T18:10:33.247Z",
                "updatedAt": "2024-04-29T18:11:40.463Z"
              }
            ],
            "description": "List of current user boards"
          }
        }
      },
      "GetBoardResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "string",
                "format": "id",
                "example": "8273bjfiwbe29233vv3",
                "description": "Board's id"
              },
              "columns": {
                "type": "array",
                "items": { "type": "object" },
                "example": [],
                "description": "Board's column list"
              },
              "title": {
                "type": "string",
                "example": "Dream makers project",
                "description": "Board's name"
              },
              "icon": {
                "type": "string",
                "example": "puzzle-piece",
                "description": "Board's icon name"
              },
              "backgroundImage": {
                "type": "string",
                "example": "image7",
                "description": "Board's background image name"
              }
            }
          }
        }
      },
      "UpdateBoardRequest": {
        "$ref": "#/components/schemas/BoardRequest"
      },
      "UpdateBoardResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "string",
                "format": "id",
                "example": "8273bjfiwbe29233vv3",
                "description": "Board's id"
              },
              "owner": {
                "type": "string",
                "format": "id",
                "example": "662698cdc2d20df05cabd72a",
                "description": "Board owner Id"
              },
              "columns": {
                "$ref": "#/components/schemas/ColumnsListExample"
              },
              "title": {
                "type": "string",
                "example": "Dream makers project",
                "description": "Board's name"
              },
              "icon": {
                "type": "string",
                "example": "puzzle-piece",
                "description": "Board's icon name"
              },
              "backgroundImage": {
                "type": "string",
                "example": "image7",
                "description": "Board's background image name"
              },
              "createdAt": {
                "type": "string",
                "format": "Date",
                "example": "2024-04-29T13:44:41.291Z",
                "description": "Date of board creation"
              },
              "updatedAt": {
                "type": "string",
                "format": "Date",
                "example": "2024-04-29T13:44:41.291Z",
                "description": "Date of last board update"
              }
            }
          }
        }
      },

      "AddCardRequest": {
        "type": "object",
        "required": ["title", "description", "priority", "deadline", "boardId", "columnId"],
        "properties": {
          "title": {
            "type": "string",
            "example": "Make a cake",
            "description": "Card title"
          },
          "description": {
            "type": "string",
            "example": "I need to make a cake for Kate's birthday",
            "description": "Card description"
          },
          "priority": {
            "type": "string",
            "enum": ["without", "low", "medium", "high"],
            "example": "low",
            "description": "Card priority"
          },
          "deadline": {
            "type": "string",
            "format": "UTS",
            "example": "1714472680",
            "description": "Deadline date"
          },
          "boardId": {
            "type": "string",
            "format": "id",
            "example": "662220a95e39526f21e9d4c2",
            "description": "Id of a board in which the task needs to be created"
          },
          "columnId": {
            "type": "string",
            "format": "id",
            "example": "662220a95e39526f21e9f47d",
            "description": "Id of a column in which the task needs to be created"
          }
        }
      },
      "AddCardResponse": {
        "type": "object",
        "required": ["result"],
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "example": "Make a cake",
                "description": "Card title"
              },
              "description": {
                "type": "string",
                "example": "I need to make a cake for Kate's birthday",
                "description": "Card description"
              },
              "priority": {
                "type": "string",
                "enum": ["without", "low", "medium", "high"],
                "example": "low",
                "description": "Card priority"
              },
              "deadline": {
                "type": "string",
                "format": "UTS",
                "example": "1714472680",
                "description": "Deadline date"
              },
              "boardId": {
                "type": "string",
                "format": "id",
                "example": "662220a95e39526f21e9d4c2",
                "description": "Id of a board in which the task needs to be created"
              },
              "columnId": {
                "type": "string",
                "format": "id",
                "example": "662220a95e39526f21e9f47d",
                "description": "Id of a column in which the task needs to be created"
              },
              "owner": {
                "type": "string",
                "description": "authorized user",
                "example": "662220a95e39526f21e9d4c2"
              },
              "_id": {
                "type": "string",
                "description": "Card id",
                "example": "662112f285746b0dae1375c0"
              },
              "createdAt": {
                "type": "string",
                "format": "date",
                "description": "date card create",
                "example": "2024-04-18T12:32:51.000Z"
              },
              "updatedAt": {
                "type": "string",
                "format": "date",
                "description": "date card update",
                "example": "2024-04-18T12:32:51.000Z"
              }
            }
          }
        }
      },
      "PatchCardRequest": {
        "type": "object",
        "required": ["columnId", "boardId"],
        "properties": {
          "title": {
            "type": "string",
            "example": "Create shopping list",
            "description": "Card title"
          },
          "description": {
            "type": "string",
            "example": "We are running out of some products. I need to make a list, so that we could buy them",
            "description": "Card description"
          },
          "priority": {
            "type": "string",
            "enum": ["without", "low", "medium", "high"],
            "example": "medium",
            "description": "Card priority"
          },
          "deadline": {
            "type": "string",
            "format": "UTS",
            "example": "1714472680",
            "description": "Deadline date"
          },
          "boardId": {
            "type": "string",
            "format": "id",
            "example": "662220a95e39526f21e9d4c2",
            "description": "Id of a board in which the task is placed"
          },
          "columnId": {
            "type": "string",
            "format": "id",
            "example": "662220a95e39526f21e9f47d",
            "description": "Id of a column in which the task is placed"
          }
        }
      },
      "PatchCardResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "string",
                "format": "id",
                "example": "6630d0082dc83a3d6539af18",
                "description": "Card Id"
              },
              "title": {
                "type": "string",
                "example": "Create shopping list",
                "description": "Card title"
              },
              "description": {
                "type": "string",
                "example": "We are running out of some products. I need to make a list, so that we could buy them",
                "description": "Card description"
              },
              "priority": {
                "type": "string",
                "enum": ["without", "low", "medium", "high"],
                "example": "medium",
                "description": "Card priority"
              },
              "deadline": {
                "type": "string",
                "format": "UTS",
                "example": "1714472680",
                "description": "Deadline date"
              }
            }
          }
        }
      },
      "MoveCardRequest": {
        "type": "object",
        "required": ["newColumnId", "columnId"],
        "properties": {
          "columnId": {
            "type": "string",
            "format": "id",
            "example": "662220a95e39526f21e9d4c2",
            "description": "Id of a column in which the task currently is"
          },
          "newColumnId": {
            "type": "string",
            "format": "id",
            "example": "662220a95e39526f21e9f6h4",
            "description": "Id of a column in which the task should be moved to"
          }
        }
      },
      "MoveCardResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "string",
                "format": "id",
                "example": "662112f285746b0dae1375c0",
                "description": "Card id"
              },
              "columnId": {
                "type": "string",
                "format": "id",
                "example": "662220a95e39526f21e9d4c2",
                "description": "Id of a column in which the task has been moved to"
              }
            }
          }
        }
      },

      "AddColumnRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ColumnRequest"
          },
          {
            "required": ["title", "boardId"]
          }
        ]
      },
      "AddColumnResponse": {
        "type": "object",
        "properties": {
          "result": {
            "$ref": "#/components/schemas/Column"
          }
        }
      },
      "UpdateColumnRequest": {
        "type": "object",
        "required": ["title"],
        "properties": {
          "title": {
            "type": "string",
            "example": "To do list",
            "description": "New column title"
          }
        }
      },
      "UpdateColumnResponse": {
        "type": "object",
        "properties": {
          "result": {
            "$ref": "#/components/schemas/Column"
          }
        }
      },

      "CreateIssueRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/IssueRequest"
          },
          {
            "required": ["email", "message"]
          }
        ]
      },
      "CreateIssueResponse": {
        "$ref": "#/components/schemas/Issue"
      },

      "User": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Nikola Tesla",
            "description": "User's name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com",
            "description": "User's email"
          },
          "theme": {
            "type": "string",
            "enum": ["light", "dark", "violet"],
            "example": "dark",
            "description": "UI colors theme"
          },
          "avatarURL": {
            "type": "string",
            "example": "//www.gravatar.com/avatar/cc06f09cd70054783dd4cbd6d88fb540?s=250&d=retro&f=y",
            "description": "Path to the user's avatar file in the URL format"
          }
        }
      },
      "UserRequest": {
        "type": "object",
        "required": ["email", "password"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com",
            "description": "User's email"
          },
          "password": {
            "type": "string",
            "example": "qwerty123",
            "description": "User's password"
          }
        }
      },
      "Board": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "owner": {
                "type": "string",
                "format": "id",
                "example": "392b29ueb928yr2vb",
                "description": "Id of the person who created the board"
              },
              "columns": {
                "type": "array",
                "items": { "type": "object" },
                "example": [],
                "description": "Board's column list"
              },
              "title": {
                "type": "string",
                "example": "Dream makers project",
                "description": "Board's name"
              },
              "icon": {
                "type": "string",
                "example": "puzzle-piece",
                "description": "Board's icon name"
              },
              "backgroundImage": {
                "type": "string",
                "example": "image7",
                "description": "Board's background image name"
              },
              "_id": {
                "type": "string",
                "format": "id",
                "example": "8273bjfiwbe29233vv3",
                "description": "Board's id"
              },
              "createdAt": {
                "type": "string",
                "format": "date",
                "example": "2024-04-21T07:41:01.533Z",
                "description": "Board's date of creation"
              },
              "updatedAt": {
                "type": "string",
                "format": "date",
                "example": "2024-04-21T07:41:01.533Z",
                "description": "Date of last board update"
              }
            }
          }
        }
      },
      "BoardRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "Dream makers project",
            "description": "Board's title"
          },
          "icon": {
            "type": "string",
            "example": "puzzle-piece",
            "description": "Board's icon name"
          },
          "backgroundImage": {
            "type": "string",
            "example": "image7",
            "description": "Board's background image name"
          }
        }
      },
      "Column": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "To do list",
            "description": "Column's title"
          },
          "cards": {
            "type": "array",
            "items": { "type": "object" },
            "example": [],
            "description": "List of cards in the column"
          },
          "boardId": {
            "type": "string",
            "format": "id",
            "example": "1hf2ue37fhsbdf",
            "description": "_id of the board in which the column is"
          },
          "owner": {
            "type": "string",
            "format": "id",
            "example": "23f2390jvevdl34",
            "description": "Id of the user who created the column"
          },
          "_id": {
            "type": "string",
            "format": "id",
            "example": "sdiuvbwiub298e3b9v2vjnk",
            "description": "Column id"
          },
          "createdAt": {
            "type": "string",
            "format": "date",
            "example": "2024-04-21T07:41:01.533Z",
            "description": "Column's date of creation"
          },
          "updatedAt": {
            "type": "string",
            "format": "date",
            "example": "2024-04-21T07:41:01.533Z",
            "description": "Date of last column update"
          }
        }
      },
      "ColumnRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "To do list",
            "description": "Column's title"
          },
          "boardId": {
            "type": "string",
            "format": "id",
            "example": "1hf2ue37fhsbdf",
            "description": "_id of the board to add the column to"
          }
        }
      },
      "Issue": {
        "type": "object",
        "properties": {
          "owner": {
            "type": "string",
            "format": "id",
            "example": "283fhvue298hv02ev2",
            "description": "Id of the user who created the issue report"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com",
            "description": "Email of the user who created the issue report"
          },
          "message": {
            "type": "string",
            "example": "Hi, I want to report about an issue on your website. Kind regards, your Customer",
            "description": "Issue message"
          },
          "_id": {
            "type": "string",
            "format": "id",
            "example": "sdiuvbwiub298e3b9v2vjnk",
            "description": "Issue id"
          },
          "createdAt": {
            "type": "string",
            "format": "date",
            "example": "2024-04-21T07:41:01.533Z",
            "description": "Issue's date of creation"
          },
          "updatedAt": {
            "type": "string",
            "format": "date",
            "example": "2024-04-21T07:41:01.533Z",
            "description": "Issue's last date of update"
          }
        }
      },
      "IssueRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com",
            "description": "Email of the user who created the issue report"
          },
          "message": {
            "type": "string",
            "example": "Hi, I want to report about an issue on your website. Kind regards, your Customer",
            "description": "Issue message"
          }
        }
      },

      "ColumnsListExample": {
        "type": "array",
        "items": {
          "type": "string",
          "format": "id",
          "example": "662ffd8ddfa45017c862db8b",
          "description": "Column Id"
        },
        "example": ["662ffd8ddfa45017c862db8b", "662ffde0dfa45017c862db97", "662ffdefdfa45017c862db9e"],
        "description": "Columns list example"
      },

      "UserBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'email' is a required field"
          }
        }
      },
      "AbsentAvatarError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'avatar' is a required field"
          }
        }
      },
      "AbsentThemeError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'theme' is a required field",
            "description": "Error message"
          }
        }
      },
      "AbsentRefreshTokenError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'refreshToken' is a required field",
            "description": "Error message"
          }
        }
      },
      "BoardBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'title' is a requiered field"
          }
        }
      },
      "UpdateBoardBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'title' is a requiered field"
          }
        }
      },
      "ColumnBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'title' is a required field"
          }
        }
      },
      "UpdateColumnBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Request body can't be empty"
          }
        }
      },
      "CardBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'title' is a requiered field"
          }
        }
      },
      "UpdateCardBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'title' is a requiered field"
          }
        }
      },
      "MoveCardBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'columnId' is a requiered field"
          }
        }
      },
      "IssueBadRequestError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "'message' is a requiered field"
          }
        }
      },
      "AuthenticationError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Email or password is wrong"
          }
        }
      },
      "AuthorizationError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Not authorized"
          }
        }
      },
      "BoardNotFoundError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Board not found"
          }
        }
      },
      "ColumnNotFoundError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Column not found"
          }
        }
      },
      "CardNotFoundError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Card not found"
          }
        }
      },
      "EmailDublicateError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Email in use"
          }
        }
      },
      "InternalServerError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Something went wrong"
          }
        }
      }
    },

    "securitySchemes": {
      "Token": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
